/* ===== Base ===== */
:root {
  --bg: #0f1222;
  --bg-2: #151935;
  --text: #e9ecff;
  --muted: #aeb5d9;
  --accent: #7aa2ff;
  --glass: rgba(255,255,255,0.08);
  --ring: rgba(122,162,255,0.35);
  --good: #b7ffb7;
  --warn: #ffe9a6;
  --bad:  #ffdcdc;
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: 'Pretendard', system-ui, -apple-system, Segoe UI, Roboto, 'Noto Sans KR', sans-serif;
  color: var(--text);
  background:
    radial-gradient(1200px 700px at 20% -10%, #2b2f56 0%, transparent 60%),
    radial-gradient(1000px 600px at 120% 0%, #1b2047 0%, transparent 65%),
    linear-gradient(180deg, var(--bg) 0%, var(--bg-2) 100%);
  min-height: 100%;
  display: grid;
  place-items: center;
}

.page { width: min(1200px, 94vw); padding: 28px 18px 40px; }
.hero { text-align: center; margin-bottom: 18px; }
h1 { margin: 0 0 6px; font-size: clamp(28px, 3.4vw, 44px); letter-spacing: -0.5px; }
.sub { margin: 0; color: var(--muted); font-size: clamp(14px, 1.6vw, 16px); }

/* ===== Layout ===== */
.lab {
  margin-top: 22px;
  display: grid;
  grid-template-columns: 1.1fr 1fr;
  gap: clamp(18px, 3vw, 36px);
  align-items: start;
}
@media (max-width: 940px) { .lab { grid-template-columns: 1fr; } }

.glass-wrap { display: grid; gap: 10px; justify-items: center; }

/* ===== Glass ===== */
.glass {
  position: relative;
  width: min(420px, 80vw);
  height: min(520px, 92vw);
  border-radius: 28px 28px 20px 20px;
  background: linear-gradient(180deg, rgba(255,255,255,0.15), rgba(255,255,255,0.06));
  border: 2px solid rgba(255,255,255,0.18);
  box-shadow: 0 8px 40px rgba(0,0,0,0.35), inset 0 0 0 1px rgba(255,255,255,0.07);
  overflow: hidden; backdrop-filter: blur(8px) saturate(120%);
}
.glass::after {
  content: ""; position: absolute; inset: auto 8% -18px 8%; height: 28px;
  border-radius: 40px; filter: blur(18px);
  background: radial-gradient(60% 140% at 50% 0%, rgba(0,0,0,0.55), transparent 70%);
  z-index: -1;
}
.glass-reflection {
  position: absolute; inset: 0;
  background: linear-gradient(100deg, rgba(255,255,255,0.12), transparent 35%), linear-gradient(260deg, rgba(255,255,255,0.07), transparent 36% 60%, rgba(255,255,255,0.05) 70%, transparent 85%);
  mix-blend-mode: screen; pointer-events: none;
}

/* ===== Juice ===== */
.juice {
  position: absolute; left: 6%; right: 6%; bottom: 5%; height: 0%;
  border-radius: 18px 18px 14px 14px;
  background: linear-gradient(to top, #7aa2ff, #c9d3ff);
  box-shadow: inset 0 8px 20px rgba(255,255,255,0.25), inset 0 -16px 40px rgba(0,0,0,0.25);
  overflow: hidden;
  transition: height 900ms cubic-bezier(.2,.8,.2,1), filter 300ms;
}
.juice::before { content: ""; position: absolute; inset: 0; background: radial-gradient(120% 60% at 50% -10%, rgba(255,255,255,0.35), transparent 40%); mix-blend-mode: overlay; pointer-events:none; opacity:.6; }
.bubbles { position:absolute; inset:0; background:
    radial-gradient(6px 6px at 20% 80%, rgba(255,255,255,0.45) 0 40%, transparent 41%),
    radial-gradient(8px 8px at 40% 65%, rgba(255,255,255,0.45) 0 40%, transparent 41%),
    radial-gradient(5px 5px at 60% 75%, rgba(255,255,255,0.5) 0 40%, transparent 41%),
    radial-gradient(7px 7px at 75% 70%, rgba(255,255,255,0.45) 0 40%, transparent 41%),
    radial-gradient(4px 4px at 30% 55%, rgba(255,255,255,0.5) 0 40%, transparent 41%);
  animation: fizz 3.5s linear infinite; opacity:.7; }
@keyframes fizz { from{transform:translateY(10%);opacity:.65;} to{transform:translateY(-10%);opacity:.9;} }

/* ===== Buttons & Panel ===== */
.panel {
  background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.03));
  border: 1px solid rgba(255,255,255,0.16);
  border-radius: 18px;
  padding: clamp(16px, 3vw, 24px);
  box-shadow: 0 10px 30px rgba(0,0,0,0.25);
}
.panel-title { margin: 0 0 8px; }
.ingredient-buttons { display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 10px; }
.ing-btn {
  padding: 8px 12px; border-radius: 999px; border: 1px solid rgba(255,255,255,0.18);
  background: rgba(255,255,255,0.05); color: var(--text); cursor: pointer; font-weight:600;
}
.ing-btn.selected { outline: 2px solid var(--ring); background: rgba(255,255,255,0.1); }

.selected-header { display: flex; align-items: center; justify-content: space-between; margin: 6px 0 6px; color: var(--muted); }
.sum-wrap { display:flex; align-items:center; gap:8px; }
.mini-btn { border:1px solid rgba(255,255,255,0.18); background:transparent; color:var(--text); border-radius:999px; padding:4px 8px; cursor:pointer; font-size:12px; }
.mini-btn.danger { border-color: rgba(255,90,90,0.5); color:#ffdcdc; }

.selected-list { display:grid; gap:10px; }
.row {
  display:grid; grid-template-columns: 1fr auto; gap:10px; align-items:center;
  background: rgba(255,255,255,0.04); border:1px solid rgba(255,255,255,0.14); border-radius:12px; padding:10px;
}
.row-left { display:grid; grid-template-columns: 22px 110px 1fr; gap:10px; align-items:center; }
.swatch { width: 14px; height: 14px; border-radius: 50%; box-shadow: 0 0 0 2px rgba(255,255,255,0.15); }
.name { font-weight:700; }
input[type="range"] { width: 100%; }
.pct { width: 64px; text-align: right; color: var(--muted); }
.remove { background: transparent; border:1px solid rgba(255,255,255,0.2); color: #ffdcdc; border-radius:8px; padding:6px 8px; cursor:pointer; }

.btn { display:inline-flex; align-items:center; justify-content:center; gap:10px; border-radius:999px; padding:12px 18px; font-weight:700; border:1px solid transparent; cursor:pointer; transition: transform .08s ease, box-shadow .2s ease, background .2s ease; will-change: transform; }
.btn.primary { background: linear-gradient(135deg, #7aa2ff, #c79bff); color:#121325; box-shadow: 0 10px 22px rgba(122,162,255,0.35); border-color: var(--ring); }
.btn.ghost { background: transparent; border-color: rgba(255,255,255,0.18); color: var(--text); }

.result { margin: 12px 2px 6px; font-size: clamp(16px, 2.1vw, 20px); text-align:center; min-height: 1.6em;}
.result.warn { color: var(--warn); }
.result.good { color: var(--good); }
.result.bad  { color: var(--bad); }

.actions-row { display:flex; gap:8px; justify-content:center; }

.chips { display:flex; flex-wrap: wrap; gap:8px; margin-top:8px; }
.chip { padding:6px 10px; border-radius: 999px; border: 1px solid rgba(255,255,255,0.18); background: rgba(255,255,255,0.04); font-size:13px; display:inline-flex; align-items:center; gap:8px; }


/* Title as button */
.title-btn {
  background: linear-gradient(135deg, #7aa2ff, #c79bff);
  color: #121325;
  border: 0;
  border-radius: 999px;
  padding: 10px 18px;
  font-weight: 800;
  font-size: clamp(22px, 3vw, 34px);
  letter-spacing: -0.3px;
  cursor: pointer;
  box-shadow: 0 10px 22px rgba(122,162,255,0.35);
  transition: transform .08s ease, filter .2s ease;
}
.title-btn:hover { filter: brightness(1.08); }
.title-btn:active { transform: translateY(1px) scale(.99); }

/* Empty footer gets minimal spacing */
.footer { margin-top: 12px; text-align: center; color: var(--muted); min-height: 0; }


/* Move title button higher (closer to top) */
.hero {
  margin-top: -40px; /* lift up */
}


/* Add spacing between title button and subtitle */
.title-btn {
  margin-bottom: 18px;
}


/* === v9 Update: brighter background and layout adjustment === */
body {
  background: linear-gradient(180deg, #e7f0ff 0%, #f3e9ff 100%) !important;
  color: #333;
}
.page {
  padding-top: 20px;
}
.hero {
  margin-top: 0 !important;
}
.lab {
  margin-top: 100px !important; /* push main section down */
}
.panel, .glass {
  background: rgba(255,255,255,0.55) !important;
  backdrop-filter: blur(6px) saturate(130%);
  border: 1px solid rgba(255,255,255,0.4);
}
.result {
  color: #444;
}
.btn.primary {
  background: linear-gradient(135deg, #82b1ff, #b388ff);
  color: #fff;
}
.btn.ghost {
  border-color: rgba(100,100,100,0.2);
  color: #333;
}


/* === v10 Update: darker text for right panel === */
.panel, .panel * {
  color: #222 !important;
}
.ing-btn {
  color: #222 !important;
  border-color: rgba(0,0,0,0.2) !important;
  background: rgba(255,255,255,0.7) !important;
}
.ing-btn.selected {
  background: rgba(200,200,255,0.5) !important;
  border-color: rgba(80,80,180,0.4) !important;
}
.sum-wrap strong {
  color: #000 !important;
}


/* === v11 Update: darker result text color for visibility === */
.result {
  color: #333 !important;
  text-shadow: 0 0 4px rgba(255,255,255,0.6);
}
.result.good,
.result.warn,
.result.bad {
  color: #333 !important;
}


/* === 모바일 게이지 확장 수정 === */
@media (max-width: 768px) {
  .row-left {
    grid-template-columns: 18px 80px 1fr !important;
  }
  input[type="range"] {
    width: 120% !important;
    transform: scaleY(1.1);
  }
}


/* === v12: Hide PNG Save button on mobile only === */
@media (max-width: 768px) {
  #savePngBtn { display: none !important; }
}

